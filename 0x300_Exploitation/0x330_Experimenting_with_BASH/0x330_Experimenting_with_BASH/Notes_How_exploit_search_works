We first declare variables command and buffer
We malloc() the command which places it in the heap
Then, we set buffer after the command-name and put return address in the buffer
We then put a NOP in the first 60 bytes of buffer and then shellcode after the NOP
When the program is executed, the buffer will be loaded into the stack(the shellcode on the heap is difficult to execute)
We test various numbers on the offset until some satisfy the amount between the variable i and the address of NOP sled in the stack
The shellcode(magic for now) then gives us root privileges